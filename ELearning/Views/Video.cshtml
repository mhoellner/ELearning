@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    Layout = "Master.cshtml";

    string iFrameLink = string.Empty;
    string currentLink = CurrentPage._youtubeLink;
    if (currentLink.Contains("youtube.com/watch?v="))
    {
        iFrameLink = "https://www.youtube.com/embed/" + currentLink.Substring(currentLink.FindIndex(t => t.Equals('=')) + 1, 11);
    }
    else if (currentLink.Contains("youtube.com/embed/"))
    {
        iFrameLink = currentLink;
    }
}

<h2>
    @CurrentPage.Name
</h2>
<p>
    @CurrentPage._textUeberVideo
</p>
@if (!iFrameLink.IsNullOrWhiteSpace())
{
    <iframe width="854" height="480" src="@iFrameLink" frameborder="0" allowfullscreen></iframe>
}
<p>
    @CurrentPage._textUnterVideo
</p>
